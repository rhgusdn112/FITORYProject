<th:block th:fragment="comment-section">
  <!-- 내가 쓴 리뷰 섹션 -->
  <div th:if="${hasReviewed}" class="review-container">
    <h2>내가 쓴 리뷰</h2>
    <table class="review-table">
      <thead>
        <tr>
          <th>내가 쓴 리뷰</th>
          <th>작성일</th>
          <th>별점</th>
          <th>관리</th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="review : ${reviews}" th:if="${user.memberNo == review.memberNo}">
          <td th:text="${review.reviewContent}">리뷰 내용</td>
          <td th:text="${review.reviewWriteDate}">작성일</td>
          <td th:text="${review.number} + '점'">별점: 5.0</td>
          <td>
            <button class="edit-review-btn" 
                    th:attr="data-id=${review.commentNo}, data-content=${review.reviewContent}, data-rating=${review.number}">
              수정
            </button>
            <button class="delete-review-btn" th:attr="data-id=${review.commentNo}">삭제</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- 리뷰 작성 및 수정 섹션 (결제한 회원만 작성 가능) -->
  <!-- <div class="review-container" th:if="\${userType == 'paidMember' && !hasReviewed}"> 임시로 주석 처리-->
  <div class="review-container">
    <h2 id="review-section-header">리뷰 작성</h2>
  <table class="review-table">
    <thead>
      <tr>
        <th style="width: 60%;">리뷰 내용</th>
        <th style="width: 30%;">별점</th>
        <th style="width: 10%;"></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>
          <textarea id="new-review" placeholder="이 강의가 어땠는지 알려주세요" style="width: 100%"></textarea>
        </td>
        <td>
          <div class="star-rating" id="review-rating">
            <i class="fa-regular fa-star" data-value="1"></i>
            <i class="fa-regular fa-star" data-value="2"></i>
            <i class="fa-regular fa-star" data-value="3"></i>
            <i class="fa-regular fa-star" data-value="4"></i>
            <i class="fa-regular fa-star" data-value="5"></i>
            <div id="rating-value-display">0점</div>
          </div>
        </td>
        <td>
          <button id="submit-review" class="submit-review-btn">리뷰 등록</button>
        </td>
      </tr>
    </tbody>
  </table>
  </div>

  <!-- 관리자용 1:1 문의 및 신고 섹션 -->
  <!-- <div class="review-container" th:if="${userType == 'admin'}"> 임시로 주석 처리 -->
  <div class="review-container">
    <div class="inquiry-management-container">
      <h2>1:1 문의 및 신고 관리</h2>
      <div class="inquiry-title-section">
        <h1>문의 제목</h1>
      </div>
      <div class="inquiry-details">
        <div class="response-content">
          <span class="inquiry-meta">문의자</span>
          <span class="inquiry-date">2024.10.10</span>
          <div class="inquiry-message">
            <p>문의 내용</p>
          </div>
        </div>
        <div  class="inquiry-content">
          <span class="response-date">2024.10.12</span>
          <div class="response-message">
            <textarea id="response-textarea" rows="6"
              style="width: 100%; border-radius: 8px; padding: 8px; resize: none;">답변 내용 입력</textarea>
          </div>
        </div>
      </div>
      <div class="navigation-buttons">
        <button id="prev-btn" onclick="navigateInquiry('prev')">&#8249;</button>
        <button id="next-btn" onclick="navigateInquiry('next')">&#8250;</button>
      </div>
      <div class="action-button">
        <button id="complete-btn" onclick="completeInquiry()">답변 완료</button>
      </div>
    </div>
  </div>

  <!-- 회원용 1:1 문의 섹션 -->
  <div class="review-container">
    <div class="inquiry-form-container">
      <h2>1:1 문의</h2>
      <div class="inquiry-form-title-section">
        <textarea id="inquiry-title-textarea" rows="2"
          style="width: 100%; border-radius: 8px; padding: 8px; resize: none;">문의 제목 입력</textarea>
      </div>
      <div class="inquiry-form-details">
        <div class="inquiry-form-content">
          <div class="inquiry-form-message">
            <textarea id="inquiry-textarea" rows="6"
              style="width: 100%; border-radius: 8px; padding: 8px; resize: none;">문의할 내용</textarea>
          </div>
        </div>
      </div>
      <div class="inquiry-form-action-button">
        <button id="inquiry-submit-btn" onclick="submitInquiry()">문의하기</button>
      </div>
    </div>
  </div>

  <!-- 리뷰 리스트 섹션 -->
  <div class="review-container">
    <h2>리뷰</h2>
    <table class="review-table">
      <thead>
        <tr>
          <th style="width: 65%;">내용</th>
          <th style="width: 10%;">닉네임</th>
          <th style="width: 10%;">작성일</th>
          <th style="width: 10%;">별점</th>
          <th style="width: 5%;">
            <div class="review-sort-options">
              <select id="review-sort">
                <option value="latest">정렬방식 - 최신 순</option>
                <option value="oldest">정렬방식 - 오래된 순</option>
                <option value="high-rating">정렬방식 - 별점 높은 순</option>
                <option value="low-rating">정렬방식 - 별점 낮은 순</option>
              </select>
            </div>
          </th>
        </tr>
      </thead>
      <tbody>
        <tr th:each="review : ${reviews}">
          <td th:text="${review.reviewContent}">리뷰 내용</td>
          <td th:text="${review.memberNickname}">작성자 이름</td>
          <td th:text="${review.reviewWriteDate}">작성일</td>
          <td th:text="${review.number} + ' 점'">별점: 5.0</td>
          <td>
            <button class="report-btn" data-type="review"
              th:if="${user != null and userType == 'trainer' and user.trainerNo == review.trainerNo}"
              th:attr="data-comment-no=${review.commentNo}"><i class="fa-solid fa-land-mine-on"></i> 리뷰 신고</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

  <!-- 페이지네이션 섹션 -->
  <div class="pagination">
    <a href="#">&laquo;</a>
    <a href="#">1</a>
    <a href="#">2</a>
    <a href="#">3</a>
    <a href="#">4</a>
    <a href="#">5</a>
    <a href="#">&raquo;</a>
  </div>

</th:block>