<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" th:href="@{/css/admin/admin.css}">

  </style>
</head>
<body>
  <th:block th:replace="~{common/common}"></th:block>

  <div th:if="${session.adminLogin != null}"class="main-my-page">
       
      <th:block th:if= "${session.adminLogin.authorityNo == 1}">

        <section class="content-1">
          <div>
            <h3>회원 관리 및 조회</h3>
            <button type="menu">정렬방식▽</button>
          </div>

          <table boarder="1" >
            <thead>
              <tr>
                <th>회원번호</th>
                <th>|</th>
                <th>아이디</th>
                <th>|</th>
                <th>이름</th>
                <th>|</th>
                <th>가입일</th>
                <th>|</th>
                <th>댓글 수</th>
                <th>|</th>
                <th>누적 신고</th>
              </tr>
            </thead>

            <tbody id="memberList">
                <tr>
                  <td>회원번호</td>
                  <td>아이디</td>
                  <td>이름</td>
                  <td>가입일</td>
                  <td>
                    <a href="/admin/comment">댓글 수</a>
                  </td>
                  <td>
                    <a href="/admin/flag">누적신고</a>
                  </td>
                </tr>
              </th:block> 
            </tbody>

          </table>
        </form>


      </th:block>

      <th:block th:if= "${session.adminLogin.authorityNo == 2}">

        <form action="/admin/member" method="post" id="memberCare">
          <h3>
            <a href="/admin/member">강사 관리 및 조회</a>
          </h3>

          <table boarder="1" >
            <thead>
              <tr>
                <th>회원번호</th>
                <th>|</th>
                <th>아이디</th>
                <th>|</th>
                <th>이름</th>
                <th>|</th>
                <th>가입일</th>
                <th>|</th>
                <th>댓글 수</th>
                <th>|</th>
                <th>누적 신고</th>
                <th>|</th>
                <th>
                  <button type="menu">정렬방식▽</button>
                </th>
              </tr>
            </thead>

            <tbody>
              <th:block th:if= "${#lists.isEmpty(memberList)}">
                <tr>
                  <th colspan="13">&nbsp;</th>
                </tr>
                <tr>
                  <th colspan="13">회원이 존재하지 않습니다.</th>
                </tr>
              </th:block>

              <th:block th:if= "${#lists.isEmpty(memberList)}"></th:block>
                <tr th:each= "member:${memberList}" th:object="${member}">
                  <td th:text="*{memberNo}">회원번호</td>
                  <td th:text="*{memberEmail}">아이디</td>
                  <td th:text="*{memberName}">이름</td>
                  <td th:text="*{enrollDate}">가입일</td>
                  <td th:text="*{countComment}">댓글 수</td>
                  <td th:text="*{memberFlag}">누적신고</td>
                </tr>
              </th:block> 
            </tbody>

          </table>
        </form>
      
      </th:block>

      <th:block th:if= "${session.adminLogin.authorityNo == 3}">

        <h2>전체 관리자 페이지</h2>
        <form action="/admin/all" method="post" id="trainerCare">
          <h3>회원 관리 및 조회</h3>


        </form>

      
      </th:block>

        

  </div>

  <div th:if="${session.adminLogin == null}" class="main-my-page">
    
    <form class="login-container"  id="loginForm" >
      <table>
        <tr>
          <th>로그인 후 이용바랍니다.</th>
        </tr>
        <tr>
          <th>
            <a href="/admin/login">로그인 페이지로 이동</a>
          </th>
        </tr>
        
        
      </table>

    </form>
  </div>
   
    
  
  
  <script src="/js/admin/adminLoginjs"></script>
  
  
  <script th:if="${message}">
    alert("아이디 혹은 패스워드가 일치하지 않습니다.");
  </script>
</body>
</html>